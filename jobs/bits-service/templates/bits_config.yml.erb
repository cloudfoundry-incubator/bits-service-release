buildpacks:
  directory_key: <%= p("bits-service.buildpacks.directory_key") %>
  blobstore_type: <%= p("bits-service.buildpacks.blobstore_type") %>
  webdav_config:
    public_endpoint: <%= p("bits-service.buildpacks.webdav_config.public_endpoint") %>
    private_endpoint: <%= p("bits-service.buildpacks.webdav_config.private_endpoint") %>
    username: <%= p("bits-service.buildpacks.webdav_config.username") %>
    password: <%= p("bits-service.buildpacks.webdav_config.password") %>
    <% if p("bits-service.buildpacks.webdav_config.ca_cert") != "" && p("bits-service.buildpacks.webdav_config.ca_cert") != nil %>
    ca_cert_path: "/var/vcap/jobs/bits-service/config/certs/buildpacks_ca_cert.pem"
    <% end %>
  fog_connection: <%= p("bits-service.buildpacks.fog_connection", {}).to_json %>
droplets:
  directory_key: <%= p("bits-service.droplets.directory_key") %>
  blobstore_type: <%= p("bits-service.droplets.blobstore_type") %>
  webdav_config:
    public_endpoint: <%= p("bits-service.droplets.webdav_config.public_endpoint") %>
    private_endpoint: <%= p("bits-service.droplets.webdav_config.private_endpoint") %>
    username: <%= p("bits-service.droplets.webdav_config.username") %>
    password: <%= p("bits-service.droplets.webdav_config.password") %>
    <% if p("bits-service.droplets.webdav_config.ca_cert") != "" && p("bits-service.droplets.webdav_config.ca_cert") != nil %>
    ca_cert_path: "/var/vcap/jobs/bits-service/config/certs/droplets_ca_cert.pem"
    <% end %>
  fog_connection: <%= p("bits-service.droplets.fog_connection", {}).to_json %>
packages:
  directory_key: <%= p("bits-service.packages.directory_key") %>
  blobstore_type: <%= p("bits-service.packages.blobstore_type") %>
  webdav_config:
    public_endpoint: <%= p("bits-service.packages.webdav_config.public_endpoint") %>
    private_endpoint: <%= p("bits-service.packages.webdav_config.private_endpoint") %>
    username: <%= p("bits-service.packages.webdav_config.username") %>
    password: <%= p("bits-service.packages.webdav_config.password") %>
    <% if p("bits-service.packages.webdav_config.ca_cert") != "" && p("bits-service.packages.webdav_config.ca_cert") != nil %>
    ca_cert_path: "/var/vcap/jobs/bits-service/config/certs/packages_ca_cert.pem"
    <% end %>
  fog_connection: <%= p("bits-service.packages.fog_connection", {}).to_json %>
app_stash:
  directory_key: <%= p("bits-service.app_stash.directory_key") %>
  blobstore_type: <%= p("bits-service.app_stash.blobstore_type") %>
  webdav_config:
    public_endpoint: <%= p("bits-service.app_stash.webdav_config.public_endpoint") %>
    private_endpoint: <%= p("bits-service.app_stash.webdav_config.private_endpoint") %>
    username: <%= p("bits-service.app_stash.webdav_config.username") %>
    password: <%= p("bits-service.app_stash.webdav_config.password") %>
    <% if p("bits-service.app_stash.webdav_config.ca_cert") != "" && p("bits-service.app_stash.webdav_config.ca_cert") != nil %>
    ca_cert_path: "/var/vcap/jobs/bits-service/config/certs/app_stash_ca_cert.pem"
    <% end %>
  fog_connection: <%= p("bits-service.app_stash.fog_connection", {}).to_json %>
nginx:
  use_nginx: true
logging:
  file: /var/vcap/sys/log/bits-service/bits-service.log
  syslog: vcap.bits-service
  level: <%= p("bits-service.logging.level") %>
  max_retries: <%= p("bits-service.logging.max_retries") %>
public_endpoint: <%= p("bits-service.public_endpoint") %>
secret: <%= p("bits-service.secret") %>
skip_cert_verify: true
<% if_p("bits-service.cc_updates.ca_cert", "bits-service.cc_updates.client_cert", "bits-service.cc_updates.client_key") do |ca_cert, client_cert, client_key| %>
cc_updates:
  cc_url: <%= p("bits-service.cc_updates.cc_url") %>
  ca_cert: "/var/vcap/jobs/bits-service/config/certs/mutual_ca_cert.pem"
  client_cert: "/var/vcap/jobs/bits-service/config/certs/mutual_client_cert.pem"
  client_key: "/var/vcap/jobs/bits-service/config/certs/mutual_client_key.pem"
<% end %>
